- op: replace
  path: /spec/template/spec/containers/0/resources
  value:
    limits:
      cpu: "{{ .Values.resources.sourceController.limits.cpu }}"
      memory: "{{ .Values.resources.sourceController.limits.memory }}"
    requests:
      cpu: "{{ .Values.resources.sourceController.requests.cpu }}"
      memory: "{{ .Values.resources.sourceController.requests.memory }}"
- op: replace
  path: /spec/template/spec/volumes
  value:
    - name: data
      persistentVolumeClaim:
        claimName: '{{ include "controllerVolumeName" (merge (dict "volumeName" "source-controller-data") .) | quote }}'
    - name: tmp
      persistentVolumeClaim:
        claimName: '{{ include "controllerVolumeName" (merge (dict "volumeName" "source-controller-temp") .) | quote }}'
- op: add
  path: /metadata/labels/app
  value: source-controller
